<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Stanley Tay - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Stanley Tay - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-k-n-s-addressbook"><a class="link" href="#project-k-n-s-addressbook">Project: K.N.S. AddressBook</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>K.N.S. AddressBook is a Java desktop address book application created by <strong>Team W11-B3</strong> during the course of <strong>CS2103T
Software Engineering</strong> in AY2017/8 Semester 1. This portfolio page will show you the contributions I have made to our
project.</p>
</div>
<div class="paragraph">
<p><strong>Code Contributed</strong>:
 [<a href="https://github.com/CS2103AUG2017-W11-B3/main/blob/master/collated/main/teclu.md">Functional Code</a>]
 [<a href="https://github.com/CS2103AUG2017-W11-B3/main/blob/master/collated/test/teclu.md">Test Code</a>]</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-avatar"><a class="link" href="#enhancement-added-avatar">Enhancement Added: Avatar</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><code>Avatar</code> is the contact&#8217;s display picture that can be found in the <code>Person Panel</code>. When using the <code>add</code> or <code>edit</code> command,
you can change the <code>Avatar</code> by entering a valid URL or file path on the computer. If no URL or file path is provided,
a default placeholder <code>Avatar</code> is created.</p>
</div>
<div class="paragraph">
<p>Alternatively, clicking on the display picture in <code>Person Panel</code> will bring up a GUI upload window for users to specify
a picture to be used in their computer.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>It is important to know what your contact looks like, especially so if you do not meet him/her frequently. Also, most
freelancers have many clients to keep up with; it is likely that they may forget how their client looks like over time.</p>
</div>
<div class="paragraph">
<p>The alternative way of editing the <code>Avatar</code> is useful for users who are unsure as to how to get the actual file path of
the image found in their computer. Also, the file path may be very long, and this will cause the command box to be
overfilled with text (<em>causing parts of the text to be hidden</em>). This can be frustrating for users who would want to
check whether they have entered the correct details in the <code>add</code> or <code>edit</code> command.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="avatar"><a class="link" href="#avatar">Avatar</a></h3>
<div class="paragraph">
<p>The <code>Avatar</code> class is a new contact detail that displays a display picture obtained
via a valid Uniform Resource Locator (URL) or a local directory path in your computer.
If no display picture is assigned to the contact, then creates a default placeholder image.</p>
</div>
<div class="paragraph">
<p>In order for the user to upload an <code>Avatar</code> for the contact, he/she can use the Add/Edit <code>command</code> or Graphical
User Interface (GUI) upload (<code>AvatarWindow</code>) to do so.</p>
</div>
<div class="sect3">
<h4 id="java-implementation-code-avatar-code"><a class="link" href="#java-implementation-code-avatar-code">Java Implementation: <code>Avatar</code></a></h4>
<div class="paragraph">
<p>The display and storage of <code>Avatar</code> can be seen in the following code snippets:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Avatar() {
    AvatarUtil placeholder = <span class="keyword">new</span> AvatarUtil();
    image = placeholder.getPlaceholderAvatar();
    value = DEFAULT_VALUE;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Code Snippet 1 (<code>Avatar()</code>):</strong> The default constructor for <code>Avatar</code> is used when no display
picture is assigned to a newly added contact. The default placeholder <code>Avatar</code> is generated
with the dependant class <code>AvatarUtil</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Avatar(<span class="predefined-type">String</span> url) <span class="directive">throws</span> IllegalValueException {
    <span class="keyword">try</span> {
        <span class="keyword">if</span> (url.isEmpty() || DEFAULT_VALUE.equals(url)) {
            AvatarUtil placeholder = <span class="keyword">new</span> AvatarUtil();
            image = placeholder.getPlaceholderAvatar();
            value = DEFAULT_VALUE;
        } <span class="keyword">else</span> {
            <span class="predefined-type">File</span> defaultAvatar = <span class="keyword">new</span> <span class="predefined-type">File</span>(url);

            <span class="keyword">if</span> (isValidUrl(url)) {
                <span class="local-variable">this</span>.url = <span class="keyword">new</span> <span class="predefined-type">URL</span>(url);
            } <span class="keyword">else</span> {
                <span class="local-variable">this</span>.url = defaultAvatar.toURI().toURL();
            }
            <span class="local-variable">this</span>.image = <span class="predefined-type">ImageIO</span>.read(<span class="local-variable">this</span>.url);
                        <span class="comment">// Code Continued in Snippet 2B</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Code Snippet 2A (<code>Avatar(String url)</code>):</strong> If a URL or local directory path string is provided,
then the parameterized constructor will check if the provided string is valid or not. If the string
is valid (i.e. non-empty and existing), then it will parse the URL and read the image given.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">            <span class="keyword">if</span> (!isSavedInData(url)) {
                <span class="predefined-type">String</span> outputName = <span class="string"><span class="delimiter">&quot;</span><span class="content">/data/</span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.image.hashCode() + <span class="string"><span class="delimiter">&quot;</span><span class="content">.png</span><span class="delimiter">&quot;</span></span>;
                <span class="predefined-type">File</span> outputImage = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">user.dir</span><span class="delimiter">&quot;</span></span>) + outputName);

                <span class="predefined-type">File</span> parentDirectory = outputImage.getParentFile();
                <span class="keyword">if</span> (!parentDirectory.exists()) {
                    parentDirectory.mkdirs();
                }

                <span class="predefined-type">ImageIO</span>.write(<span class="local-variable">this</span>.image, <span class="string"><span class="delimiter">&quot;</span><span class="content">png</span><span class="delimiter">&quot;</span></span>, outputImage);
                <span class="local-variable">this</span>.url = outputImage.toURI().toURL();
            }
            <span class="local-variable">this</span>.value = <span class="local-variable">this</span>.url.toString();
        }
    } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalValueException(MESSAGE_AVATAR_CONSTRAINTS);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Code Snippet 2B (<code>Avatar(String url)</code>):</strong> If the image given has not yet been stored in the data
directory, it will generate a new file and save it.</p>
</div>
<div class="paragraph">
<p>To better illustrate the code snippets, here is a sequence diagram when a user changes a person&#8217;s avatar with a new
image (<em>that is not currently stored in the data folder</em>):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SequenceDiagramEditContactAvatar.png" alt="SequenceDiagramEditContactAvatar" width="760">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.3.1.1: Sequence Diagram for Changing Avatar</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Changing the <code>Avatar</code> of a contact will result in an immediate display change to the user.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="dependant-class-code-avatarutil-code"><a class="link" href="#dependant-class-code-avatarutil-code">Dependant Class: <code>AvatarUtil</code></a></h4>
<div class="paragraph">
<p>AvatarUtil generates a default placeholder image if the contact is not given a display picture. It relies
on the <code>java.awt</code> library to generate a picture drawn by the methods found in <code>Graphics2D</code> and <code>Color</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can find the full implementation of <code>AvatarUtil</code> in the folder <code>java/seedu/address/commons/util</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="dependant-class-code-avatarwindow-code"><a class="link" href="#dependant-class-code-avatarwindow-code">Dependant Class: <code>AvatarWindow</code></a></h4>
<div class="paragraph">
<p>AvatarWindow is a UI component and is triggered when the current avatar of a contact is clicked on as such:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UiPersonPanel.png" alt="UiPersonPanel" width="760">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.3.3.1: Avatar Window Pop-up</em></p>
</div>
<div class="paragraph">
<p>A window will appear for the user to load and save a picture from the computer. If a valid picture is loaded and saved,
it will create an <code>Edit</code> command and raise a new event; this event is the same as typing an actual valid edit command,
and can also be undone or redone as per normal.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can find the full implementation of <code>AvatarWindow</code> in the folder <code>java/seedu/address/ui</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Additional ways of changing <code>Avatar</code>.<br>
<strong>Alternative 1:</strong> Only allow user to use the Add and Edit commands to change the Avatar of the contact.<br>
<strong>Pros:</strong> No time is spent to make new ways of changing Avatar.<br>
<strong>Cons:</strong> May be stifling for users who want to have a GUI option.<br>
<strong>Alternative 2 (current choice):</strong> Create a GUI alternative for users to change the Avatar of the contact.<br>
<strong>Pros:</strong> Makes the application more user friendly; easier for users to point and click instead of copying the
picture&#8217;s directory path, which may take a longer time.<br>
<strong>Cons:</strong> Some classes (e.g. <em>PersonCard</em>, <em>PersonPanel</em>, etc.) have to be modified in order to implement this option.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Saving of pictures.<br>
<strong>Alternative 1:</strong> Save the pictures within the <code>.jar</code> file.<br>
<strong>Pros:</strong> Users will not be able to modify the pictures downloaded; lesser chances of error exceptions occuring due
to missing files.<br>
<strong>Cons:</strong> May be inconvenient for a user who would want to manipulate these pictures directly for any purpose.<br>
<strong>Alternative 2 (current choice):</strong> Save the pictures outside of the <code>.jar</code> file, inside the <code>data/</code> folder.<br>
<strong>Pros:</strong> Users will be able to directly access downloaded pictures and manipulate them as they please.<br>
<strong>Cons:</strong> If users are not careful (e.g. permanently.delete a picture by mistake), the contact&#8217;s avatar may get
replaced by the default placeholder.</p>
</div>
<hr>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-person-panel"><a class="link" href="#enhancement-added-person-panel">Enhancement Added: Person Panel</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="person-panel"><a class="link" href="#person-panel">Person Panel</a></h3>
<div class="paragraph">
<p>This is where you will find a selected contact&#8217;s information (<em>name, address, phone number, etc.</em>) displayed neatly on
a single page. When you click on the currently displayed <a href="avatar">Avatar</a> of the contact, a new window will pop-up like so:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UiPersonPanel.png" alt="UiPersonPanel" width="497">
</div>
</div>
<div class="paragraph">
<p>When you click <code>load</code>, you will be given the option to select an image (<em>either in .JPG or .PNG format</em>) stored on
your computer. Afterwards, clicking <code>save</code> will let you replace the current Avatar of the contact.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>Previously, the <code>Person Card</code> was the only thing that showed all the details of a contact. It was too small to fit all
of the text. Aesthetically, this is not good because information should not be crammed into a small area. Thus, I
created a <code>Person Panel</code> which shows all the contact&#8217;s details in one page in order to improve aesthetic design and
readability.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="person-panel-2"><a class="link" href="#person-panel-2">Person Panel</a></h3>
<div class="paragraph">
<p>The <code>PersonPanel</code> replaces the previous <code>BrowserPanel</code>, and is a crucial part of <code>MainWindow</code>. It is an event-driven
component that displays contact information depending on the user&#8217;s actions</p>
</div>
<div class="sect3">
<h4 id="java-implementation"><a class="link" href="#java-implementation">Java Implementation</a></h4>
<div class="paragraph">
<p>By taking advantage of the <code>java.util.logging package</code>, PersonPanel is able to display all of the details of a contact
(<em>name, address, email, contact number, birthday, avatar, tags</em>) selected in <code>PersonCard</code>. This implementation can be
seen from the following 2 code snippets:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Subscribe</span>
<span class="directive">private</span> <span class="type">void</span> handlePersonPanelSelectionChangedEvent(PersonPanelSelectionChangedEvent event) {
    loadBlankPersonPage();
    logger.info(LogsCenter.getEventHandlingLogMessage(event));
    selectedPersonCard = event.getNewSelection();
    selectedPerson = selectedPersonCard.person;
    isBlankPage = <span class="predefined-constant">false</span>;
    loadPersonPage();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Code Snippet 1 (<code>handlePersonPanelSelectionChangedEvent()</code>):</strong> Whenever a contact is selected, an event will be
triggered. The method will respond to the event by obtaining a PersonCard variable and ReadOnlyPerson variable
(<em>which contains all the details of the contact</em>), and pass it into loadPersonPage().</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">void</span> loadPersonPage() {
    name.setText(selectedPerson.getName().fullName);
    phone.setText(<span class="string"><span class="delimiter">&quot;</span><span class="content">Phone: </span><span class="delimiter">&quot;</span></span> + selectedPerson.getPhone().toString());
    address.setText(<span class="string"><span class="delimiter">&quot;</span><span class="content">Address: </span><span class="delimiter">&quot;</span></span> + selectedPerson.getAddress().toString());
    email.setText(<span class="string"><span class="delimiter">&quot;</span><span class="content">Email: </span><span class="delimiter">&quot;</span></span> + selectedPerson.getEmail().toString());
    birthday.setText(<span class="string"><span class="delimiter">&quot;</span><span class="content">Birthday: </span><span class="delimiter">&quot;</span></span> + selectedPerson.getBirthday().toString());
    avatar.setImage(SwingFXUtils.toFXImage(selectedPerson.getAvatar().getImage(), <span class="predefined-constant">null</span>));
    selectedPerson.getTags().forEach(tag -&gt; {
        <span class="predefined-type">Label</span> tagLabel = <span class="keyword">new</span> <span class="predefined-type">Label</span>(tag.tagName);
        tagLabel.setStyle(<span class="string"><span class="delimiter">&quot;</span><span class="content">-fx-background-color: </span><span class="delimiter">&quot;</span></span> + tag.tagColour);
        tags.getChildren().add(tagLabel);
    });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Code Snippet 2 (<code>loadPersonPage()</code>):</strong> The ReadOnlyPerson variable passed into loadPersonPage can then be used to
extract the contact&#8217;s details for display; the UI will be updated accordingly to reflect these changes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Upon opening the application, no contact details will be displayed since no contact has been selected yet.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To better illustrate the code snippets, let us look at the following sequence diagram when a user selects a contact
found in <code>PersonListPanel</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SequenceDiagramSelectToPersonPanel.png" alt="SequenceDiagramSelectToPersonPanel" width="760">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.2.1.1: Sequence Diagram for Selection</em></p>
</div>
<div class="paragraph">
<p>When a contact in <code>PersonListPanel</code> is selected via <code>command</code> or mouse click, this will result in the <code>EventsCenter</code>
returning a <code>ReadOnlyPerson</code> of the selected contact for display in the <code>PersonPanel</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="layout-implementation"><a class="link" href="#layout-implementation">Layout Implementation</a></h4>
<div class="paragraph">
<p>The layout for PersonPanel is specified in <code>PersonPanel.fxml</code>. Visually, it can be broken down into 2 parts as shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PersonPanelLayout.png" alt="PersonPanelLayout" width="760">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.2.2.1: Visual Breakdown of PersonPanel</em></p>
</div>
<div class="paragraph">
<p><strong>Part 1 (primaryDetails):</strong> This is subdivided into parts A and B. Part A contains the <a href="#avatar">avatar</a> picture of the contact.
Clicking on the avatar picture will cause a new <code>AvatarWindow</code> to be generated, which allows users to change the current
avatar picture of the selected contact. More information about the implementation of <code>Avatar</code> can be found in the next section.</p>
</div>
<div class="paragraph">
<p>Part B contains the Name and Tags of the contact, which we found to be important in recognising a displayed contact
quickly. Hence, they are in a larger font in order to stand out.</p>
</div>
<div class="paragraph">
<p><strong>Part 2 (secondaryDetails):</strong> This displays the Address, Email, Contact Number and Birthday of the contact. As these
details are less important than the Name and Tags, they are placed below and are in a smaller font. At the moment, this
section appears simple but empty. We plan to implement more features for v2.0, such as a "Notes about Contact" and
"Birthday Countdown".</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Display of Contact&#8217;s Details.<br>
<strong>Alternative 1 (current choice):</strong> Replace BrowserPanel with PersonPanel, which displays all of the contacts details.
Remove all details but Name and Tags from PersonCard. <br>
<strong>Pros:</strong> We can build upon PersonPanel and add more features to it, that the BrowserPanel could not achieve. <br>
<strong>Cons:</strong> PersonPanel will not be able to display personal web pages (<em>e.g. Contact&#8217;s Social Media page</em>).<br>
<strong>Alternative 2:</strong> Keep BrowserPanel and use HTML files to display contact details instead.<br>
<strong>Pros:</strong> No need to modify existing code; instead just figure out a way to edit and display HTML files that show the
contact&#8217;s details.<br>
<strong>Cons:</strong> May take too long to implement since we are not familiar with how we can do so.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Display of Tags In PersonPanel (<em>and PersonCard</em>).<br>
<strong>Alternative 1 (current choice):</strong> Randomly colourise tags to make them distinct.<br>
<strong>Pros:</strong> Quick to implement and makes it easier for user to differentiate between tags.<br>
<strong>Cons:</strong> Tags are always changing colour for each new instance of the application; may seem confusing.<br>
<strong>Alternative 2:</strong> Keep the previous blue colour for all tags.<br>
<strong>Pros:</strong> Consistent and simple; no work is needed to be done.<br>
<strong>Cons:</strong> Takes users a longer time to differentiate between tags.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Addition of Icons for secondaryDetails.<br>
<strong>Alternative 1 (current choice):</strong> Place icons on the left of each contact detail.<br>
<strong>Pros:</strong> Quick to implement and makes it easier for user to differentiate between each contact detail. Icons can be
easily taken from Google&#8217;s Material Design (<em>or any other design website</em>).<br>
<strong>Cons:</strong> If we were to include more contact details (<em>e.g. social media links</em>) in the future, then we would have to
keep adding more icons; relevant icons may not be found on Google&#8217;s Material Design. <br>
<strong>Alternative 2:</strong> Use different colours for each contact detail.<br>
<strong>Pros:</strong> Even more quick to implement since it only involves CSS changes.<br>
<strong>Cons:</strong> Bad idea design-wise because it violates the <a href="#tradic-colour-scheme">Triadic Colour Scheme</a>. It could make
the application look less professional and unattractive.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-theme-switcher"><a class="link" href="#enhancement-added-theme-switcher">Enhancement Added: Theme Switcher</a></h3>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="theme-switcher"><a class="link" href="#theme-switcher">Theme Switcher</a></h3>
<div class="paragraph">
<p>When you click on 'Theme' in the Menu Bar, you should see 5 preset themes that you can choose for K.N.S. AddressBook:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UiThemeOptions.png" alt="UiThemeOptions" width="359">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Alternatively, you can use the <code>theme</code> command to change the current display theme of K.N.S. AddressBook.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When running K.N.S. AddressBook for the first time, the <code>Light</code> theme is the default appearance setting. Clicking on any
of the other 4 preset themes will result in an immediate appearance change; hopefully one of these preset themes is to
your liking! Here is what K.N.S. AddressBook look&#8217;s like in all 5 preset themes:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UiAllThemes.gif" alt="UiAllThemes" width="668">
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
<div class="sect2">
<h3 id="changing-themes-code-theme-code"><a class="link" href="#changing-themes-code-theme-code">Changing Themes : <code>theme</code></a></h3>
<div class="paragraph">
<p>You can choose from 5 preset themes to change into: Light, Dark, Red, Blue, and Green.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The theme names are not case-sensitive!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>theme COLOUR</code> or <code>t COLOUR</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>theme Dark</code></p>
</li>
<li>
<p><code>theme RED</code></p>
</li>
<li>
<p><code>t blue</code></p>
</li>
<li>
<p><code>t GrEeN</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>Previously, there was only the dark theme in place for the application. We felt that some of the users may not like this
default colour scheme, and may not like that they cannot personalise the application&#8217;s appearance to their liking. Thus,
in order to make the application more attractive visually, we have decided to add more themes for users to choose from.
It is important for users to have more choices in how their address book looks like, because it gives them a sense of
ownership and allows them to express themselves in someway.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="theme-switcher-2"><a class="link" href="#theme-switcher-2">Theme Switcher</a></h3>
<div class="paragraph">
<p>The Theme Switcher allows users to change the appearance of the application via the command <code>theme</code> or the drop-down
selection in the <code>MenuBar</code>. There are 5 themes for users to choose from: Light, Dark, Red, Blue, and Green. Here is what
the application looks like in each theme:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UiAllThemes.gif" alt="UiAllThemes" width="668">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.10.1: All 5 Themes of the Application</em></p>
</div>
<div class="sect3">
<h4 id="java-implementation-2"><a class="link" href="#java-implementation-2">Java Implementation</a></h4>
<div class="paragraph">
<p>The Theme Switcher mainly spans over the <code>Logic</code> and <code>UI</code> components.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
    <span class="keyword">if</span> (!isValidTheme(<span class="local-variable">this</span>.theme)) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(Messages.MESSAGE_INVALID_THEME);
    }
    <span class="keyword">if</span> ((MainWindow.getCurrentTheme()).contains(<span class="local-variable">this</span>.theme)) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(<span class="string"><span class="delimiter">&quot;</span><span class="content">Theme is already set to </span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.theme + <span class="string"><span class="delimiter">&quot;</span><span class="content">!</span><span class="delimiter">&quot;</span></span>);
    }
    EventsCenter.getInstance().post(<span class="keyword">new</span> ChangeThemeRequestEvent(<span class="local-variable">this</span>.theme));
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_THEME_SUCCESS, <span class="local-variable">this</span>.theme));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Code Snippet 1A (<code>execute()</code>):</strong> When the <code>theme</code> command is executed, it checks for two conditions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Theme Validity</strong> &#8594; It checks the input arguments for the 5 preset themes. If an invalid theme is given, then a
<code>CommandException</code> is thrown to inform the user that their input theme does not exist.</p>
</li>
<li>
<p><strong>Current Theme Displayed</strong> &#8594; In order to prevent the user from setting the current theme to the same exact theme, it
checks whether the valid argument is currently the displayed theme. If it is, then a <code>CommandException</code> is thrown to
inform the user of their error.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If the two conditions are fulfilled, then the <code>theme</code> command will generate a new <code>ChangeThemeRequestEvent</code> for
<code>MainWindow</code> to accept, and return a successful <code>CommandResult</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Subscribe</span>
<span class="directive">public</span> <span class="type">void</span> handleChangeThemeRequestEvent(ChangeThemeRequestEvent event) <span class="directive">throws</span> CommandException, <span class="exception">ParseException</span> {
    logger.info(LogsCenter.getEventHandlingLogMessage(event));
    mainWindow.getStylesheets().remove(currentTheme);
    prefs.setAddressBookTheme(event.theme + <span class="string"><span class="delimiter">&quot;</span><span class="content">Theme.css</span><span class="delimiter">&quot;</span></span>);
    currentTheme = <span class="string"><span class="delimiter">&quot;</span><span class="content">view/</span><span class="delimiter">&quot;</span></span> + prefs.getAddressBookTheme();
    mainWindow.getStylesheets().add(currentTheme);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Code Snippet 1B (<code>handleChangeThemeRequestEvent(ChangeThemeRequestEvent event)</code>):</strong> The <code>event</code> generated by the
<code>theme</code> command is received in <code>MainWindow</code>. It takes removes the CSS for the current theme, and replaces it with the
input theme&#8217;s CSS. The change in appearance is reflected immediately.</p>
</div>
<div class="paragraph">
<p>To better illustrate code snippets 1A and 1B, the following sequence diagram demonstrates a user entering a valid <code>theme</code> command input:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SequenceDiagramValidThemeCommand.png" alt="SequenceDiagramValidThemeCommand" width="668">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.10.1.1: Sequence Diagram for Valid Theme Command</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>MainWindow</code> does not need to check for the theme validity or whether the same theme is being set, because the <code>theme</code>
command has already accounted for these conditions.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FXML</span>
<span class="directive">private</span> <span class="type">void</span> setToVALIDTheme() {
    <span class="keyword">if</span> (checkSameTheme(<span class="string"><span class="delimiter">&quot;</span><span class="content">VALID</span><span class="delimiter">&quot;</span></span>)) {
        <span class="keyword">return</span>;
    }
    mainWindow.getStylesheets().remove(currentTheme);
    prefs.setAddressBookTheme(<span class="string"><span class="delimiter">&quot;</span><span class="content">VALIDTheme.css</span><span class="delimiter">&quot;</span></span>);
    currentTheme = <span class="string"><span class="delimiter">&quot;</span><span class="content">view/</span><span class="delimiter">&quot;</span></span> + prefs.getAddressBookTheme();
    mainWindow.getStylesheets().add(currentTheme);
    EventsCenter.getInstance().post(<span class="keyword">new</span> ChangeThemeRequestEvent(<span class="string"><span class="delimiter">&quot;</span><span class="content">VALID</span><span class="delimiter">&quot;</span></span>));
    raise(<span class="keyword">new</span> NewResultAvailableEvent(<span class="string"><span class="delimiter">&quot;</span><span class="content">Theme updated to: VALID</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">false</span>));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Code Snippet 2 (<code>setToVALIDTheme()</code>):</strong> Where "<em>VALID</em>" is Light, Dark, Red, Blue or Green. If the user uses the
<code>MenuBar</code> to change the current theme, then it will call the appropriate method to change the current theme to it. Also,
the method ensures that if the user selects the theme that is already being displayed, it will raise a
<code>NewResultAvailableEvent</code> to inform the user of their error.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>MainWindow</code> needs to check whether the same theme is being set since no <code>theme</code> command is being executed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Providing a GUI option for switching themes<br>
<strong>Alternative 1 (current choice):</strong> Provide a GUI option via the <code>MenuBar</code>.<br>
<strong>Pros:</strong> Simple to implement and users can change themes seamlessly.<br>
<strong>Cons:</strong> Users will not know what the colour scheme of the theme looks like unless they change to it.<br>
<strong>Alternative 2:</strong> Provide a GUI option via coloured buttons.<br>
<strong>Pros:</strong> Users will be able to see the colour scheme of the theme before changing to it.<br>
<strong>Cons:</strong> Users may get confused as to what these buttons are for.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-notes-for-contacts"><a class="link" href="#enhancement-proposed-notes-for-contacts">Enhancement Proposed: Notes For Contacts</a></h3>
<div class="sect3">
<h4 id="justification-4"><a class="link" href="#justification-4">Justification</a></h4>
<div class="paragraph">
<p>The current version of K.N.S. AddressBook only displays the predetermined details of a contact. It would be useful for
a freelancer to be able to note down other miscellaneous details about their clients within the application, so that
they do not have to save these details elsewhere. For example, a freelancer may want to note down information about when
and where they are meeting their client the next time.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-birthday-countdown-reminders"><a class="link" href="#enhancement-proposed-birthday-countdown-reminders">Enhancement Proposed: Birthday Countdown &amp; Reminders</a></h3>
<div class="sect3">
<h4 id="justification-5"><a class="link" href="#justification-5">Justification</a></h4>
<div class="paragraph">
<p>With the inclusion of a birthday field (<em>implemented by Nadhira</em>), it would be useful to the user if the AddressBook can
inform him/her of a contact&#8217;s upcoming birthday. To a freelancer, this can be very important because he/she would want
to make themselves appear professional and thoughtful by wishing their clients happy birthday.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other Contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Small Feature - GUI Design Improvements</strong></p>
<div class="ulist">
<ul>
<li>
<p>Redesigned the AddressBook.</p>
</li>
<li>
<p>Pull Request: <a href="https://github.com/CS2103AUG2017-W11-B3/main/pull/50">#50</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Modified <code>add</code> and <code>edit</code> command to support <code>Avatars</code></strong></p>
<div class="ulist">
<ul>
<li>
<p>Pull Request: <a href="https://github.com/CS2103AUG2017-W11-B3/main/pull/27">#27</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Role - Documentation IC</strong></p>
<div class="ulist">
<ul>
<li>
<p>Proofread Read Me, User Guide, and Developer Guide for the team.</p>
</li>
<li>
<p>Responsible for creating most screenshot images found in the documentation
(Pull Requests: <a href="https://github.com/CS2103AUG2017-W11-B3/main/pull/31/files">#31</a>,
<a href="https://github.com/CS2103AUG2017-W11-B3/main/pull/66/files">#66</a>).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 09:00:26 +00:00
</div>
</div>
</body>
</html>